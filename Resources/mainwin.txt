<Window x:Class="VOS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
        AllowsTransparency="True" Background="Transparent" Topmost="True"
        xmlns:VOS="clr-namespace:VOS"
        ResizeMode="NoResize" SizeToContent="WidthAndHeight"
        Title="MainWindow" WindowStyle="None" x:Name="Window">
    <!--:Ignorable="d"-->
    <!--Height="450" Width="800">
            x:Class= "VOS.MainWindow"    xmlns:VOS="clr-namespace:VOS"-->
    <Window.Resources>
        <VOS:Multibinding x:Key="Multibinding" />
    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="Mouse.MouseEnter">
            <BeginStoryboard>
                <BeginStoryboard.Storyboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="Window" Duration="0:0:0.5"
                                         Storyboard.TargetProperty="Opacity" To="1"/>
                    </Storyboard>
                </BeginStoryboard.Storyboard>
            </BeginStoryboard>
        </EventTrigger>
        <EventTrigger RoutedEvent="Mouse.MouseLeave">
            <BeginStoryboard>
                <BeginStoryboard.Storyboard>
                    <Storyboard>   <!--using VOS>Annotations; Using VOS.Annotations;-->
                        <DoubleAnimation Storyboard.TargetName="Window" Duration="0:0:0.5"
                                         Storyboard.TargetProperty="Opacity" To="0.5"/>
                    </Storyboard>
                </BeginStoryboard.Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
    <Grid Background="Transparent">
        <Border CornerRadius="0 0 20 20" Margin="10 0 10 10">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" Direction="311" ShadowDepth="0" Opacity="0.685"/>
            </Border.Effect>
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="LightGray" Offset="1"/>
                <GradientStop Color="{x:Static SystemParameters.WindowGlassColor}"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid MouseDown="UIElement_OnMouseDown" Margin="10 0 10 10" Width="90" Height="90">
                    <Grid.Effect>
                        <DropShadowEffect Opacity="0.5" ShadowDepth="0"/>
                    </Grid.Effect>
                    <Image Source="Logo.png" Visibility="{Binding ElementName=Image, Path=Visibility, Converter={StaticResource InverseVisibilityConverter}}"/>
                    <Image Source="Logo.png" x:Name="image"
                           Visibility="{Binding IsRunning, Converter={StaticResource BooleanToVisibilityConverter}}"
                           RenderTransformOrigin="0.5,0.5" Margin="-2,0,2,0">
                        <Image.Triggers>
                            <EventTrigger RoutedEvent="Window.Loaded">
                                <BeginStoryboard>
                                    <BeginStoryboard.Storyboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ScaleTransform"
                                                         Storyboard.TargetProperty="ScaleX"
                                                         Duration="0:0:0.5" From="1" To="1.2"
                                                         AutoReverse="True" RepeatBehavior="Forever">
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard.Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Image.Triggers>
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1.0" x:Name="ScaleTransform"
                                                ScaleY="{Binding Path=ScaleX, ElementName=ScaleTransform}"/>
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>
                </Grid>
                <TextBlock Grid.Row="1" Text="{Binding Message}" TextAlignment="Center"  FontWeight="Bold"
                           Margin="20 0" 
                           Visibility="{Binding Message, Converter={StaticResource EmptyMessageToVisibilityConverter}}">
                </TextBlock>
            </Grid>
        </Border>
    </Grid>
</Window>
